<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Studio MS²</title>
    
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@300;500;700&display=swap" rel="stylesheet">
    
    <style>
        /* === Global Reset === */
        * { box-sizing: border-box; }
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; background: #fff; overflow: hidden; }
        
        /* === [핵심] 화면 분할 시스템 === */
        body {
            display: flex;
            flex-direction: column; /* 세로로 쌓기 */
        }

        /* 1. 헤더 (고정 높이 대신 내용물만큼만 차지하되, 최소 공간 확보) */
        header {
            flex: 0 0 auto; /* 크기 고정 (늘어나거나 줄어들지 않음) */
            width: 100%;
            background: #fff;
            border-bottom: 1px solid #000;
            z-index: 100;
            padding: 1.5rem 2rem;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            gap: 1rem;
        }

        /* 2. 메인 컨텐츠 (헤더 빼고 남은 공간 다 차지해라) */
        .full-screen-wrapper {
            flex: 1; /* 남은 공간 100% 차지 */
            width: 100%;
            display: flex;
            flex-direction: column; /* 세로 정렬 */
            justify-content: space-evenly; /* 3개 줄을 균등하게 배치 */
            padding: 1vh 0; /* 위아래 아주 약간의 숨구멍 */
            overflow: hidden;
        }

        /* 3. 기차 레일 (남은 공간을 정확히 3등분) */
        .marquee-row {
            flex: 1; /* 3개의 줄이 공간을 똑같이 1:1:1로 나눠가짐 */
            display: flex; 
            align-items: center; /* 세로 중앙 정렬 */
            white-space: nowrap; 
            width: max-content;
            /* margin-bottom 삭제 -> flex가 알아서 배분함 */
        }

        /* === [반응형] 헤더 디자인 === */
        .header-top {
            display: flex; 
            justify-content: space-between; 
            align-items: center;
            flex-wrap: wrap; /* [중요] 화면 좁으면 줄바꿈 허용 */
            gap: 15px;
        }

        .brand-name { 
            font-family: 'Pretendard', sans-serif; 
            font-weight: 800; font-size: 1.5rem; color: #000; cursor: pointer;
            white-space: nowrap; /* 로고는 줄바꿈 금지 */
        }

        .filter-menu {
            display: flex; gap: 20px; flex-wrap: wrap;
        }
        .filter-btn {
            font-family: 'Pretendard', sans-serif; font-size: 1rem; font-weight: 600;
            cursor: pointer; color: #000;
        }
        .filter-btn:hover { text-decoration: underline; color: #666; }
        .filter-btn.active { text-decoration: underline; font-weight: 900; }

        .date-text { font-family: 'Pretendard', sans-serif; font-weight: 600; white-space: nowrap; }

        .header-desc {
            font-family: 'Noto Serif KR', serif;
            font-size: 0.9rem; line-height: 1.4; color: #333;
            width: 70%; 
            word-break: keep-all;
        }

        /* [모바일 대응] 화면이 좁아지면 글씨 크기 줄이고 배치 변경 */
        @media (max-width: 768px) {
            header { padding: 1rem; gap: 0.5rem; }
            .header-top { gap: 10px; }
            .brand-name { font-size: 1.2rem; }
            .filter-btn { font-size: 0.9rem; }
            .header-desc { width: 100%; font-size: 0.8rem; display: none; /* 너무 좁으면 설명 숨기기 (선택사항) */ }
            /* 모바일에서 설명글을 보이게 하려면 display: block으로 바꾸세요 */
        }

        /* === Animation === */
        .row-1 { animation: scroll-left 150s linear infinite; }
        .row-2 { animation: scroll-left 170s linear infinite; }
        .row-3 { animation: scroll-left 190s linear infinite; }
        @keyframes scroll-left { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }
        .marquee-row:hover { animation-play-state: paused; }

        /* === Component: Box (가변 크기) === */
        .box-container {
            flex: 0 0 auto; 
            position: relative;
            /* [핵심] 높이를 픽셀이나 vh로 고정하지 않고, 부모(한 줄) 높이의 85%로 설정 */
            height: 85%; 
            aspect-ratio: 1/1; /* 정사각형 비율 강제 유지 */
            margin-right: 2vh;
            overflow: hidden;
        }

        .box-base {
            width: 100%; height: 100%;
            display: flex; justify-content: center; align-items: center;
            font-family: 'Pretendard', sans-serif;
            font-size: 3rem; /* 반응형 폰트 크기는 JS로 제어하거나 rem 사용 */
            font-weight: 700; color: #fff;
        }

        .box-overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background-color: #000; opacity: 0; transition: opacity 0.3s ease; z-index: 10;
            display: flex; justify-content: center; align-items: center;
        }
        .overlay-text { font-family: 'Pretendard', sans-serif; font-size: 1.2rem; font-weight: 500; color: #fff; }
        .box-container:hover .box-overlay { opacity: 1; }

        /* Typography */
        .caption-box {
            position: absolute; bottom: 0; left: 0; width: 100%;
            padding: 10px; z-index: 20; pointer-events: none;
        }
        .title-text {
            font-family: 'Pretendard', sans-serif; font-size: 0.9rem; font-weight: 700;
            color: #fff; text-shadow: 0 1px 3px rgba(0,0,0,0.5);
            display: block; margin-bottom: 2px;
        }
        .desc-text {
            font-family: 'Noto Serif KR', serif; font-size: 0.75rem; font-weight: 400;
            color: #ddd; text-shadow: 0 1px 3px rgba(0,0,0,0.5);
        }
    </style>
</head>
<body>

    <header>
        <div class="header-top">
            <div class="brand-name" onclick="filterBy('All')">Studio MS²</div>
            <div class="filter-menu">
                <div class="filter-btn" onclick="filterBy('Medium')">Medium</div>
                <div class="filter-btn" onclick="filterBy('Syntax')">Syntax</div>
                <div class="filter-btn" onclick="filterBy('Scale')">Scale</div>
            </div>
            <div class="date-text">2025.11.28</div>
        </div>
        <div class="header-desc">
            Curabitur vitae odio pretium, volutpat augue efficitur, ullamcorper ante. Nunc ultrices eget urna in aliquet. Nulla at ullamcorper leo.
        </div>
    </header>

    <div class="full-screen-wrapper">
        <div class="marquee-row row-1" id="track-1"></div>
        <div class="marquee-row row-2" id="track-2"></div>
        <div class="marquee-row row-3" id="track-3"></div>
    </div>

    <script>
        // ============================================================
        // [DATABASE]
        // ============================================================
        
        const row1_data = [
            { title: "Project Alpha", desc: "Arch / 2024", color: "#999999", bigText: "1-1", type: "Medium" },
            { title: "Beta House",    desc: "Int / 2023",  color: "#aaaaaa", bigText: "1-2", type: "Syntax" },
            { title: "Gamma Villa",   desc: "Des / 2025",  color: "#bbbbbb", bigText: "1-3", type: "Scale" },
        ];

        const row2_data = [
            { title: "Neon City",  desc: "Urb / 2024", color: "#888888", bigText: "2-1", type: "Medium" },
            { title: "Cyber Loft", desc: "Ren / 2023", color: "#999999", bigText: "2-2", type: "Syntax" },
        ];

        const row3_data = [
            { title: "Dark Matter", desc: "Exh / 2024", color: "#555555", bigText: "3-1", type: "Scale" },
            { title: "Gray Scale",  desc: "Pho / 2025", color: "#666666", bigText: "3-2", type: "Medium" },
            { title: "Steel Frame", desc: "Con / 2023", color: "#777777", bigText: "3-3", type: "Syntax" },
            { title: "Iron Works",  desc: "Art / 2022", color: "#888888", bigText: "3-4", type: "Scale" },
        ];

        // ============================================================
        // [ENGINE]
        // ============================================================
        
        function renderMarquee(trackId, dataList) {
            const container = document.getElementById(trackId);
            if(!container) return;
            
            if(dataList.length === 0) { container.innerHTML = ""; return; }

            let filledList = [...dataList];
            while (filledList.length < 30) { filledList = filledList.concat(dataList); }
            filledList = filledList.concat(filledList);

            let htmlCode = "";
            filledList.forEach(item => {
                htmlCode += `
                    <div class="box-container">
                        <div class="box-base" style="background-color: ${item.color};">
                            ${item.bigText}
                        </div>
                        <div class="box-overlay">
                            <span class="overlay-text">${item.type}</span>
                        </div>
                        <div class="caption-box">
                            <div class="title-text">${item.title}</div>
                            <div class="desc-text">${item.desc}</div>
                        </div>
                    </div>
                `;
            });
            container.innerHTML = htmlCode;
        }

        function filterBy(filterType) {
            const buttons = document.querySelectorAll('.filter-btn');
            buttons.forEach(btn => {
                if(btn.innerText === filterType) btn.classList.add('active');
                else btn.classList.remove('active');
            });

            let f1, f2, f3;
            if (filterType === 'All') {
                f1 = row1_data; f2 = row2_data; f3 = row3_data;
            } else {
                f1 = row1_data.filter(item => item.type === filterType);
                f2 = row2_data.filter(item => item.type === filterType);
                f3 = row3_data.filter(item => item.type === filterType);
            }
            renderMarquee('track-1', f1);
            renderMarquee('track-2', f2);
            renderMarquee('track-3', f3);
        }

        filterBy('All');

    </script>
</body>
</html>
